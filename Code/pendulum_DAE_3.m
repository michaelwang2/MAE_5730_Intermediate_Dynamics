function zdot = pendulum_DAE_3(t,z,p)
x1 = z(1); y1 = z(2); x1d = z(3); y1d = z(4);
x2 = z(5); y2 = z(6); x2d = z(7); y2d = z(8);
x3 = z(9); y3 = z(10); x3d = z(11); y3d = z(12);
th1 = z(13); th2 = z(14); th3 = z(15);
thd1 = z(16); thd2 = z(17); thd3 = z(18);
l1 = p.l(1); l2 = p.l(2); l3 = p.l(3);
I1 = p.I(1); I2 = p.I(2); I3 = p.I(3);
m1 = p.m(1); m2 = p.m(2); m3 = p.m(3);
g = p.g;

x1dd = -(l1*(64*I1*I2*I3*thd1^2*cos(th1) - 4*I2*g*l1*l3^2*m3^2 - 16*I3*g*l1*l2^2*m3^2 - 16*I2*I3*g*l1*m1 - 32*I2*I3*g*l1*m2 - 32*I2*I3*g*l1*m3 - 4*I3*g*l1*l2^2*m2^2 - 2*g*l1*l2^2*l3^2*m1*m3^2 - 3*g*l1*l2^2*l3^2*m2*m3^2 - g*l1*l2^2*l3^2*m2^2*m3 - 4*I3*g*l1*l2^2*m1*m2 - 4*I2*g*l1*l3^2*m1*m3 - 16*I3*g*l1*l2^2*m1*m3 - 8*I2*g*l1*l3^2*m2*m3 - 24*I3*g*l1*l2^2*m2*m3 + 4*I3*g*l1*l2^2*m2^2*cos(2*th1) + 4*I2*g*l1*l3^2*m3^2*cos(2*th1) - 4*I3*g*l1*l2^2*m2^2*cos(2*th2) + 16*I3*g*l1*l2^2*m3^2*cos(2*th1) - 16*I3*g*l1*l2^2*m3^2*cos(2*th2) - 4*I2*g*l1*l3^2*m3^2*cos(2*th3) - 4*I3*l1*l2^3*m2^2*thd2^2*cos(th2) - 32*I3*l1*l2^3*m3^2*thd2^2*cos(th2) - 4*I2*l1*l3^3*m3^2*thd3^2*cos(th3) + 16*I2*I3*g*l1*m1*cos(2*th1) + 32*I2*I3*g*l1*m2*cos(2*th1) + 32*I2*I3*g*l1*m3*cos(2*th1) + 4*I3*g*l1*l2^2*m2^2*cos(2*th1 - 2*th2) + 16*I3*g*l1*l2^2*m3^2*cos(2*th1 - 2*th2) + 4*I2*g*l1*l3^2*m3^2*cos(2*th1 - 2*th3) + 8*I3*l1^2*l2^2*m2^2*thd1^2*cos(th1) + 8*I1*l2^2*l3^2*m3^2*thd1^2*cos(th1) + 8*I2*l1^2*l3^2*m3^2*thd1^2*cos(th1) + 32*I3*l1^2*l2^2*m3^2*thd1^2*cos(th1) - 4*I1*l2^2*l3^2*m3^2*thd1^2*cos(th1 - 2*th2 + 2*th3) - 4*I1*l2^2*l3^2*m3^2*thd1^2*cos(th1 + 2*th2 - 2*th3) + 16*I2*I3*l1^2*m1*thd1^2*cos(th1) + 16*I1*I3*l2^2*m2*thd1^2*cos(th1) + 64*I2*I3*l1^2*m2*thd1^2*cos(th1) + 16*I1*I2*l3^2*m3*thd1^2*cos(th1) + 64*I1*I3*l2^2*m3*thd1^2*cos(th1) + 64*I2*I3*l1^2*m3*thd1^2*cos(th1) + 4*I3*l1*l2^3*m2^2*thd2^2*cos(2*th1 - th2) + 32*I3*l1*l2^3*m3^2*thd2^2*cos(2*th1 - th2) + 4*I2*l1*l3^3*m3^2*thd3^2*cos(2*th1 - th3) - 8*I3*l1^2*l2^2*m2^2*thd1^2*cos(th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*thd1^2*cos(th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*thd1^2*cos(th1 - 2*th3) - g*l1*l2^2*l3^2*m1*m2*m3 + 2*g*l1*l2^2*l3^2*m1*m3^2*cos(2*th1) + 3*g*l1*l2^2*l3^2*m2*m3^2*cos(2*th1) + g*l1*l2^2*l3^2*m2^2*m3*cos(2*th1) - 2*g*l1*l2^2*l3^2*m2*m3^2*cos(2*th2) - g*l1*l2^2*l3^2*m2^2*m3*cos(2*th2) + g*l1*l2^2*l3^2*m2*m3^2*cos(2*th3) - g*l1*l2^2*l3^2*m1*m3^2*cos(2*th1 - 2*th2 + 2*th3) - g*l1*l2^2*l3^2*m1*m3^2*cos(2*th1 + 2*th2 - 2*th3) - g*l1*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2 + 2*th3) - g*l1*l2^2*l3^2*m2*m3^2*cos(2*th1 + 2*th2 - 2*th3) - 3*l1*l2^3*l3^2*m2*m3^2*thd2^2*cos(th2) - l1*l2^3*l3^2*m2^2*m3*thd2^2*cos(th2) - l1*l2^3*l3^2*m2*m3^2*thd2^2*cos(2*th1 + th2 - 2*th3) + l1*l2^2*l3^3*m2*m3^2*thd3^2*cos(2*th1 - 2*th2 + th3) + 4*I2*l1*l2*l3^2*m3^2*thd2^2*cos(2*th1 - th2) + 8*I3*l1*l2^2*l3*m3^2*thd3^2*cos(2*th1 - th3) - 8*I3*l1*l2^2*l3*m3^2*thd3^2*cos(2*th2 - th3) + 4*I3*g*l1*l2^2*m1*m2*cos(2*th1) + 4*I2*g*l1*l3^2*m1*m3*cos(2*th1) + 16*I3*g*l1*l2^2*m1*m3*cos(2*th1) + 8*I2*g*l1*l3^2*m2*m3*cos(2*th1) + 24*I3*g*l1*l2^2*m2*m3*cos(2*th1) - 16*I3*g*l1*l2^2*m2*m3*cos(2*th2) - 24*I3*l1*l2^3*m2*m3*thd2^2*cos(th2) + 2*g*l1*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) + g*l1*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) + 2*g*l1*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) - g*l1*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) + 2*g*l1*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) + 16*I2*I3*l1*l2*m2*thd2^2*cos(2*th1 - th2) + 32*I2*I3*l1*l2*m3*thd2^2*cos(2*th1 - th2) + 16*I2*I3*l1*l3*m3*thd3^2*cos(2*th1 - th3) + l1*l2^3*l3^2*m2*m3^2*thd2^2*cos(th2 - 2*th3) + 16*I3*g*l1*l2^2*m2*m3*cos(2*th1 - 2*th2) + 2*l1^2*l2^2*l3^2*m1*m3^2*thd1^2*cos(th1) + 6*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1) + 2*l1^2*l2^2*l3^2*m2^2*m3*thd1^2*cos(th1) - l1^2*l2^2*l3^2*m1*m3^2*thd1^2*cos(th1 - 2*th2 + 2*th3) - l1^2*l2^2*l3^2*m1*m3^2*thd1^2*cos(th1 + 2*th2 - 2*th3) - 2*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1 - 2*th2 + 2*th3) - 2*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1 + 2*th2 - 2*th3) - 4*I2*l1*l2*l3^2*m3^2*thd2^2*cos(th2) - 8*I3*l1*l2^2*l3*m3^2*thd3^2*cos(th3) + 4*I3*l1^2*l2^2*m1*m2*thd1^2*cos(th1) + 4*I2*l1^2*l3^2*m1*m3*thd1^2*cos(th1) + 16*I3*l1^2*l2^2*m1*m3*thd1^2*cos(th1) + 4*I1*l2^2*l3^2*m2*m3*thd1^2*cos(th1) + 16*I2*l1^2*l3^2*m2*m3*thd1^2*cos(th1) + 48*I3*l1^2*l2^2*m2*m3*thd1^2*cos(th1) + 4*I2*l1*l2*l3^2*m3^2*thd2^2*cos(2*th1 + th2 - 2*th3) + 8*I3*l1*l2^2*l3*m3^2*thd3^2*cos(2*th1 - 2*th2 + th3) + 3*l1*l2^3*l3^2*m2*m3^2*thd2^2*cos(2*th1 - th2) + l1*l2^3*l3^2*m2^2*m3*thd2^2*cos(2*th1 - th2) - l1*l2^2*l3^3*m2*m3^2*thd3^2*cos(2*th2 - th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*thd1^2*cos(th1 - 2*th2) + 2*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1 - 2*th3) - 16*I2*I3*l1*l2*m2*thd2^2*cos(th2) - 32*I2*I3*l1*l2*m3*thd2^2*cos(th2) - 16*I2*I3*l1*l3*m3*thd3^2*cos(th3) - 4*I2*l1*l2*l3^2*m3^2*thd2^2*cos(th2 - 2*th3) + 24*I3*l1*l2^3*m2*m3*thd2^2*cos(2*th1 - th2) - 32*I3*l1^2*l2^2*m2*m3*thd1^2*cos(th1 - 2*th2) + g*l1*l2^2*l3^2*m1*m2*m3*cos(2*th1) + 4*I2*l1*l2*l3^2*m2*m3*thd2^2*cos(2*th1 - th2) - 4*I3*l1*l2^2*l3*m2*m3*thd3^2*cos(2*th2 - th3) + l1^2*l2^2*l3^2*m1*m2*m3*thd1^2*cos(th1) - 4*I2*l1*l2*l3^2*m2*m3*thd2^2*cos(th2) + 4*I3*l1*l2^2*l3*m2*m3*thd3^2*cos(2*th1 - 2*th2 + th3)))/(2*(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2)));
y1dd = -(l1*(64*I1*I2*I3*thd1^2*sin(th1) + 4*I3*g*l1*l2^2*m2^2*sin(2*th1) + 4*I2*g*l1*l3^2*m3^2*sin(2*th1) - 4*I3*g*l1*l2^2*m2^2*sin(2*th2) + 16*I3*g*l1*l2^2*m3^2*sin(2*th1) - 16*I3*g*l1*l2^2*m3^2*sin(2*th2) - 4*I2*g*l1*l3^2*m3^2*sin(2*th3) - 4*I3*l1*l2^3*m2^2*thd2^2*sin(th2) - 32*I3*l1*l2^3*m3^2*thd2^2*sin(th2) - 4*I2*l1*l3^3*m3^2*thd3^2*sin(th3) + 16*I2*I3*g*l1*m1*sin(2*th1) + 32*I2*I3*g*l1*m2*sin(2*th1) + 32*I2*I3*g*l1*m3*sin(2*th1) + 4*I3*g*l1*l2^2*m2^2*sin(2*th1 - 2*th2) + 16*I3*g*l1*l2^2*m3^2*sin(2*th1 - 2*th2) + 4*I2*g*l1*l3^2*m3^2*sin(2*th1 - 2*th3) + 8*I3*l1^2*l2^2*m2^2*thd1^2*sin(th1) + 8*I1*l2^2*l3^2*m3^2*thd1^2*sin(th1) + 8*I2*l1^2*l3^2*m3^2*thd1^2*sin(th1) + 32*I3*l1^2*l2^2*m3^2*thd1^2*sin(th1) - 4*I1*l2^2*l3^2*m3^2*thd1^2*sin(th1 - 2*th2 + 2*th3) - 4*I1*l2^2*l3^2*m3^2*thd1^2*sin(th1 + 2*th2 - 2*th3) + 16*I2*I3*l1^2*m1*thd1^2*sin(th1) + 16*I1*I3*l2^2*m2*thd1^2*sin(th1) + 64*I2*I3*l1^2*m2*thd1^2*sin(th1) + 16*I1*I2*l3^2*m3*thd1^2*sin(th1) + 64*I1*I3*l2^2*m3*thd1^2*sin(th1) + 64*I2*I3*l1^2*m3*thd1^2*sin(th1) + 4*I3*l1*l2^3*m2^2*thd2^2*sin(2*th1 - th2) + 32*I3*l1*l2^3*m3^2*thd2^2*sin(2*th1 - th2) + 4*I2*l1*l3^3*m3^2*thd3^2*sin(2*th1 - th3) + 8*I3*l1^2*l2^2*m2^2*thd1^2*sin(th1 - 2*th2) + 32*I3*l1^2*l2^2*m3^2*thd1^2*sin(th1 - 2*th2) + 8*I2*l1^2*l3^2*m3^2*thd1^2*sin(th1 - 2*th3) + 4*I2*l1*l2*l3^2*m3^2*thd2^2*sin(th2 - 2*th3) + 24*I3*l1*l2^3*m2*m3*thd2^2*sin(2*th1 - th2) + 32*I3*l1^2*l2^2*m2*m3*thd1^2*sin(th1 - 2*th2) + 2*g*l1*l2^2*l3^2*m1*m3^2*sin(2*th1) + 3*g*l1*l2^2*l3^2*m2*m3^2*sin(2*th1) + g*l1*l2^2*l3^2*m2^2*m3*sin(2*th1) - 2*g*l1*l2^2*l3^2*m2*m3^2*sin(2*th2) - g*l1*l2^2*l3^2*m2^2*m3*sin(2*th2) + g*l1*l2^2*l3^2*m2*m3^2*sin(2*th3) - g*l1*l2^2*l3^2*m1*m3^2*sin(2*th1 - 2*th2 + 2*th3) - g*l1*l2^2*l3^2*m1*m3^2*sin(2*th1 + 2*th2 - 2*th3) - g*l1*l2^2*l3^2*m2*m3^2*sin(2*th1 - 2*th2 + 2*th3) - g*l1*l2^2*l3^2*m2*m3^2*sin(2*th1 + 2*th2 - 2*th3) - 3*l1*l2^3*l3^2*m2*m3^2*thd2^2*sin(th2) - l1*l2^3*l3^2*m2^2*m3*thd2^2*sin(th2) - l1*l2^3*l3^2*m2*m3^2*thd2^2*sin(2*th1 + th2 - 2*th3) + l1*l2^2*l3^3*m2*m3^2*thd3^2*sin(2*th1 - 2*th2 + th3) + 4*I2*l1*l2*l3^2*m3^2*thd2^2*sin(2*th1 - th2) + 8*I3*l1*l2^2*l3*m3^2*thd3^2*sin(2*th1 - th3) - 8*I3*l1*l2^2*l3*m3^2*thd3^2*sin(2*th2 - th3) + 4*I3*g*l1*l2^2*m1*m2*sin(2*th1) + 4*I2*g*l1*l3^2*m1*m3*sin(2*th1) + 16*I3*g*l1*l2^2*m1*m3*sin(2*th1) + 8*I2*g*l1*l3^2*m2*m3*sin(2*th1) + 24*I3*g*l1*l2^2*m2*m3*sin(2*th1) - 16*I3*g*l1*l2^2*m2*m3*sin(2*th2) - 24*I3*l1*l2^3*m2*m3*thd2^2*sin(th2) + 2*g*l1*l2^2*l3^2*m2*m3^2*sin(2*th1 - 2*th2) + g*l1*l2^2*l3^2*m2^2*m3*sin(2*th1 - 2*th2) - g*l1*l2^2*l3^2*m2*m3^2*sin(2*th1 - 2*th3) + 16*I2*I3*l1*l2*m2*thd2^2*sin(2*th1 - th2) + 32*I2*I3*l1*l2*m3*thd2^2*sin(2*th1 - th2) + 16*I2*I3*l1*l3*m3*thd3^2*sin(2*th1 - th3) - l1*l2^3*l3^2*m2*m3^2*thd2^2*sin(th2 - 2*th3) + 16*I3*g*l1*l2^2*m2*m3*sin(2*th1 - 2*th2) + 2*l1^2*l2^2*l3^2*m1*m3^2*thd1^2*sin(th1) + 6*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1) + 2*l1^2*l2^2*l3^2*m2^2*m3*thd1^2*sin(th1) - l1^2*l2^2*l3^2*m1*m3^2*thd1^2*sin(th1 - 2*th2 + 2*th3) - l1^2*l2^2*l3^2*m1*m3^2*thd1^2*sin(th1 + 2*th2 - 2*th3) - 2*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1 - 2*th2 + 2*th3) - 2*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1 + 2*th2 - 2*th3) - 4*I2*l1*l2*l3^2*m3^2*thd2^2*sin(th2) - 8*I3*l1*l2^2*l3*m3^2*thd3^2*sin(th3) + 4*I3*l1^2*l2^2*m1*m2*thd1^2*sin(th1) + 4*I2*l1^2*l3^2*m1*m3*thd1^2*sin(th1) + 16*I3*l1^2*l2^2*m1*m3*thd1^2*sin(th1) + 4*I1*l2^2*l3^2*m2*m3*thd1^2*sin(th1) + 16*I2*l1^2*l3^2*m2*m3*thd1^2*sin(th1) + 48*I3*l1^2*l2^2*m2*m3*thd1^2*sin(th1) + 4*I2*l1*l2*l3^2*m3^2*thd2^2*sin(2*th1 + th2 - 2*th3) + 8*I3*l1*l2^2*l3*m3^2*thd3^2*sin(2*th1 - 2*th2 + th3) + 3*l1*l2^3*l3^2*m2*m3^2*thd2^2*sin(2*th1 - th2) + l1*l2^3*l3^2*m2^2*m3*thd2^2*sin(2*th1 - th2) - l1*l2^2*l3^3*m2*m3^2*thd3^2*sin(2*th2 - th3) + 4*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1 - 2*th2) + 2*l1^2*l2^2*l3^2*m2^2*m3*thd1^2*sin(th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1 - 2*th3) - 16*I2*I3*l1*l2*m2*thd2^2*sin(th2) - 32*I2*I3*l1*l2*m3*thd2^2*sin(th2) - 16*I2*I3*l1*l3*m3*thd3^2*sin(th3) + g*l1*l2^2*l3^2*m1*m2*m3*sin(2*th1) + 4*I2*l1*l2*l3^2*m2*m3*thd2^2*sin(2*th1 - th2) - 4*I3*l1*l2^2*l3*m2*m3*thd3^2*sin(2*th2 - th3) + l1^2*l2^2*l3^2*m1*m2*m3*thd1^2*sin(th1) - 4*I2*l1*l2*l3^2*m2*m3*thd2^2*sin(th2) + 4*I3*l1*l2^2*l3*m2*m3*thd3^2*sin(2*th1 - 2*th2 + th3)))/(2*(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2)));
x2dd = -(32*I3*l1^2*l2^3*m3^2*thd2^2*cos(2*th1 - th2) - 4*I1*g*l2^2*l3^2*m3^2 - 8*I2*g*l1^2*l3^2*m3^2 - 48*I3*g*l1^2*l2^2*m3^2 - 32*I2*I3*g*l1^2*m1 - 16*I1*I3*g*l2^2*m2 - 64*I2*I3*g*l1^2*m2 - 32*I1*I3*g*l2^2*m3 - 64*I2*I3*g*l1^2*m3 - 16*I3*g*l1^2*l2^2*m2^2 + 8*I2*l1^2*l3^3*m3^2*thd3^2*cos(2*th1 - th3) + 4*I1*l2^2*l3^3*m3^2*thd3^2*cos(2*th2 - th3) + 128*I1*I2*I3*l1*thd1^2*cos(th1) + 64*I1*I2*I3*l2*thd2^2*cos(th2) - 4*g*l1^2*l2^2*l3^2*m1*m3^2 - 9*g*l1^2*l2^2*l3^2*m2*m3^2 - 4*g*l1^2*l2^2*l3^2*m2^2*m3 - 8*I3*g*l1^2*l2^2*m1*m2 - 8*I2*g*l1^2*l3^2*m1*m3 - 32*I3*g*l1^2*l2^2*m1*m3 - 4*I1*g*l2^2*l3^2*m2*m3 - 16*I2*g*l1^2*l3^2*m2*m3 - 72*I3*g*l1^2*l2^2*m2*m3 + 8*I2*g*l1^2*l3^2*m3^2*cos(2*th1) + 16*I3*g*l1^2*l2^2*m3^2*cos(2*th1) + 4*I1*g*l2^2*l3^2*m3^2*cos(2*th2) - 16*I3*g*l1^2*l2^2*m3^2*cos(2*th2) - 4*I1*g*l2^2*l3^2*m3^2*cos(2*th3) - 8*I2*g*l1^2*l3^2*m3^2*cos(2*th3) + 16*I2*l1^3*l3^2*m3^2*thd1^2*cos(th1) + 32*I3*l1^3*l2^2*m3^2*thd1^2*cos(th1) + 8*I1*l2^3*l3^2*m3^2*thd2^2*cos(th2) - 32*I3*l1^2*l2^3*m3^2*thd2^2*cos(th2) - 4*I1*l2^2*l3^3*m3^2*thd3^2*cos(th3) - 8*I2*l1^2*l3^3*m3^2*thd3^2*cos(th3) + 32*I2*I3*g*l1^2*m1*cos(2*th1) + 64*I2*I3*g*l1^2*m2*cos(2*th1) + 16*I1*I3*g*l2^2*m2*cos(2*th2) + 64*I2*I3*g*l1^2*m3*cos(2*th1) + 32*I1*I3*g*l2^2*m3*cos(2*th2) + 32*I2*I3*l1^3*m1*thd1^2*cos(th1) + 128*I2*I3*l1^3*m2*thd1^2*cos(th1) + 128*I2*I3*l1^3*m3*thd1^2*cos(th1) + 16*I1*I3*l2^3*m2*thd2^2*cos(th2) + 64*I1*I3*l2^3*m3*thd2^2*cos(th2) + 16*I3*g*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) + 48*I3*g*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) + 8*I2*g*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) + 4*I1*g*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^3*l2^2*m3^2*thd1^2*cos(th1 - 2*th2) - 16*I2*l1^3*l3^2*m3^2*thd1^2*cos(th1 - 2*th3) - 8*I1*l2^3*l3^2*m3^2*thd2^2*cos(th2 - 2*th3) + 12*I1*l1*l2^2*l3^2*m3^2*thd1^2*cos(th1) - 24*I3*l1^2*l2^2*l3*m3^2*thd3^2*cos(th3) - 8*I1*l1*l2^2*l3^2*m3^2*thd1^2*cos(th1 - 2*th2 + 2*th3) - 4*I1*l1*l2^2*l3^2*m3^2*thd1^2*cos(th1 + 2*th2 - 2*th3) - 4*I2*l1^2*l2*l3^2*m3^2*thd2^2*cos(th2 - 2*th1 + 2*th3) + 4*I2*l1^2*l2*l3^2*m3^2*thd2^2*cos(2*th1 + th2 - 2*th3) + 8*I3*l1^2*l2^2*l3*m3^2*thd3^2*cos(2*th2 - 2*th1 + th3) + 16*I3*l1^2*l2^2*l3*m3^2*thd3^2*cos(2*th1 - 2*th2 + th3) + 2*l1^2*l2^3*l3^2*m2*m3^2*thd2^2*cos(2*th1 - th2) + l1^2*l2^2*l3^3*m1*m3^2*thd3^2*cos(2*th2 - th3) - l1^2*l2^2*l3^3*m2*m3^2*thd3^2*cos(2*th1 - th3) + l1^2*l2^2*l3^3*m2*m3^2*thd3^2*cos(2*th2 - th3) + 16*I1*I3*l1*l2^2*m2*thd1^2*cos(th1) + 32*I1*I2*l1*l3^2*m3*thd1^2*cos(th1) + 96*I1*I3*l1*l2^2*m3*thd1^2*cos(th1) + 16*I2*I3*l1^2*l2*m1*thd2^2*cos(th2) + 32*I2*I3*l1^2*l2*m2*thd2^2*cos(th2) + 16*I1*I2*l2*l3^2*m3*thd2^2*cos(th2) - 16*I1*I3*l2^2*l3*m3*thd3^2*cos(th3) - 32*I2*I3*l1^2*l3*m3*thd3^2*cos(th3) + 4*I1*l1*l2^2*l3^2*m3^2*thd1^2*cos(th1 - 2*th2) - 4*I1*l1*l2^2*l3^2*m3^2*thd1^2*cos(th1 - 2*th3) - 8*I2*l1^2*l2*l3^2*m3^2*thd2^2*cos(th2 - 2*th3) + 16*I3*l1^2*l2^3*m2*m3*thd2^2*cos(2*th1 - th2) - 2*g*l1^2*l2^2*l3^2*m1*m2*m3 + 16*I1*I3*l1*l2^2*m2*thd1^2*cos(th1 - 2*th2) + 32*I1*I3*l1*l2^2*m3*thd1^2*cos(th1 - 2*th2) + 3*g*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th1) + 3*g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1) - g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2) + g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th3) - 2*g*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th1 - 2*th2 + 2*th3) - g*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th1 + 2*th2 - 2*th3) - 2*g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2 + 2*th3) - g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 + 2*th2 - 2*th3) + 3*l1^3*l2^2*l3^2*m1*m3^2*thd1^2*cos(th1) + 6*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1) + 2*l1^2*l2^3*l3^2*m1*m3^2*thd2^2*cos(th2) - l1^2*l2^2*l3^3*m1*m3^2*thd3^2*cos(th3) - 3*l1^2*l2^2*l3^3*m2*m3^2*thd3^2*cos(th3) - 2*l1^3*l2^2*l3^2*m1*m3^2*thd1^2*cos(th1 - 2*th2 + 2*th3) - l1^3*l2^2*l3^2*m1*m3^2*thd1^2*cos(th1 + 2*th2 - 2*th3) - 4*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1 - 2*th2 + 2*th3) - 2*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1 + 2*th2 - 2*th3) + l1^2*l2^3*l3^2*m2*m3^2*thd2^2*cos(th2 - 2*th1 + 2*th3) - l1^2*l2^3*l3^2*m2*m3^2*thd2^2*cos(2*th1 + th2 - 2*th3) + l1^2*l2^2*l3^3*m2*m3^2*thd3^2*cos(2*th2 - 2*th1 + th3) + 2*l1^2*l2^2*l3^3*m2*m3^2*thd3^2*cos(2*th1 - 2*th2 + th3) + 8*I2*l1^2*l2*l3^2*m3^2*thd2^2*cos(2*th1 - th2) + 8*I3*l1^2*l2^2*l3*m3^2*thd3^2*cos(2*th1 - th3) - 8*I3*l1^2*l2^2*l3*m3^2*thd3^2*cos(2*th2 - th3) + 4*I3*g*l1^2*l2^2*m1*m2*cos(2*th1) + 8*I2*g*l1^2*l3^2*m1*m3*cos(2*th1) + 24*I3*g*l1^2*l2^2*m1*m3*cos(2*th1) + 16*I2*g*l1^2*l3^2*m2*m3*cos(2*th1) + 24*I3*g*l1^2*l2^2*m2*m3*cos(2*th1) + 4*I1*g*l2^2*l3^2*m2*m3*cos(2*th2) - 8*I3*g*l1^2*l2^2*m2*m3*cos(2*th2) + 4*I3*l1^3*l2^2*m1*m2*thd1^2*cos(th1) + 8*I2*l1^3*l3^2*m1*m3*thd1^2*cos(th1) + 24*I3*l1^3*l2^2*m1*m3*thd1^2*cos(th1) + 32*I2*l1^3*l3^2*m2*m3*thd1^2*cos(th1) + 4*I3*l1^2*l2^3*m1*m2*thd2^2*cos(th2) + 48*I3*l1^3*l2^2*m2*m3*thd1^2*cos(th1) + 16*I3*l1^2*l2^3*m1*m3*thd2^2*cos(th2) + 4*I1*l2^3*l3^2*m2*m3*thd2^2*cos(th2) + g*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th1 - 2*th2) - g*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th1 - 2*th3) + 7*g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) + 4*g*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) + 4*g*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) - 3*g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) + 5*g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) + 32*I2*I3*l1^2*l2*m2*thd2^2*cos(2*th1 - th2) + 64*I2*I3*l1^2*l2*m3*thd2^2*cos(2*th1 - th2) + 32*I2*I3*l1^2*l3*m3*thd3^2*cos(2*th1 - th3) + 16*I1*I3*l2^2*l3*m3*thd3^2*cos(2*th2 - th3) + l1^3*l2^2*l3^2*m1*m3^2*thd1^2*cos(th1 - 2*th2) - l1^3*l2^2*l3^2*m1*m3^2*thd1^2*cos(th1 - 2*th3) - 2*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1 - 2*th2) + 2*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*cos(th1 - 2*th3) - 2*l1^2*l2^3*l3^2*m1*m3^2*thd2^2*cos(th2 - 2*th3) - 2*l1^2*l2^3*l3^2*m2*m3^2*thd2^2*cos(th2 - 2*th3) + 4*I3*g*l1^2*l2^2*m1*m2*cos(2*th1 - 2*th2) + 8*I3*g*l1^2*l2^2*m1*m3*cos(2*th1 - 2*th2) + 56*I3*g*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2) + 4*I3*l1^3*l2^2*m1*m2*thd1^2*cos(th1 - 2*th2) + 8*I3*l1^3*l2^2*m1*m3*thd1^2*cos(th1 - 2*th2) - 16*I3*l1^3*l2^2*m2*m3*thd1^2*cos(th1 - 2*th2) + 4*I1*l1*l2^2*l3^2*m2*m3*thd1^2*cos(th1) + 4*I2*l1^2*l2*l3^2*m1*m3*thd2^2*cos(th2) + 8*I2*l1^2*l2*l3^2*m2*m3*thd2^2*cos(th2) - 4*I3*l1^2*l2^2*l3*m1*m3*thd3^2*cos(th3) - 12*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(th3) + 4*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(2*th2 - 2*th1 + th3) + 8*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(2*th1 - 2*th2 + th3) + 4*I1*l1*l2^2*l3^2*m2*m3*thd1^2*cos(th1 - 2*th2) + g*l1^2*l2^2*l3^2*m1*m2*m3*cos(2*th1) + l1^3*l2^2*l3^2*m1*m2*m3*thd1^2*cos(th1) + l1^2*l2^3*l3^2*m1*m2*m3*thd2^2*cos(th2) + 8*I2*l1^2*l2*l3^2*m2*m3*thd2^2*cos(2*th1 - th2) + 4*I3*l1^2*l2^2*l3*m1*m3*thd3^2*cos(2*th2 - th3) - 4*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(2*th1 - th3) + 4*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(2*th2 - th3) + g*l1^2*l2^2*l3^2*m1*m2*m3*cos(2*th1 - 2*th2) + l1^3*l2^2*l3^2*m1*m2*m3*thd1^2*cos(th1 - 2*th2))/(2*(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2)));
y2dd = -(32*I3*l1^2*l2^3*m3^2*thd2^2*sin(2*th1 - th2) + 8*I2*l1^2*l3^3*m3^2*thd3^2*sin(2*th1 - th3) + 4*I1*l2^2*l3^3*m3^2*thd3^2*sin(2*th2 - th3) + 128*I1*I2*I3*l1*thd1^2*sin(th1) + 64*I1*I2*I3*l2*thd2^2*sin(th2) + 8*I2*g*l1^2*l3^2*m3^2*sin(2*th1) + 16*I3*g*l1^2*l2^2*m3^2*sin(2*th1) + 4*I1*g*l2^2*l3^2*m3^2*sin(2*th2) - 16*I3*g*l1^2*l2^2*m3^2*sin(2*th2) - 4*I1*g*l2^2*l3^2*m3^2*sin(2*th3) - 8*I2*g*l1^2*l3^2*m3^2*sin(2*th3) + 16*I2*l1^3*l3^2*m3^2*thd1^2*sin(th1) + 32*I3*l1^3*l2^2*m3^2*thd1^2*sin(th1) + 8*I1*l2^3*l3^2*m3^2*thd2^2*sin(th2) - 32*I3*l1^2*l2^3*m3^2*thd2^2*sin(th2) - 4*I1*l2^2*l3^3*m3^2*thd3^2*sin(th3) - 8*I2*l1^2*l3^3*m3^2*thd3^2*sin(th3) + 32*I2*I3*g*l1^2*m1*sin(2*th1) + 64*I2*I3*g*l1^2*m2*sin(2*th1) + 16*I1*I3*g*l2^2*m2*sin(2*th2) + 64*I2*I3*g*l1^2*m3*sin(2*th1) + 32*I1*I3*g*l2^2*m3*sin(2*th2) + 32*I2*I3*l1^3*m1*thd1^2*sin(th1) + 128*I2*I3*l1^3*m2*thd1^2*sin(th1) + 128*I2*I3*l1^3*m3*thd1^2*sin(th1) + 16*I1*I3*l2^3*m2*thd2^2*sin(th2) + 64*I1*I3*l2^3*m3*thd2^2*sin(th2) + 16*I3*g*l1^2*l2^2*m3^2*sin(2*th1 - 2*th2) + 8*I2*g*l1^2*l3^2*m3^2*sin(2*th1 - 2*th3) + 4*I1*g*l2^2*l3^2*m3^2*sin(2*th2 - 2*th3) + 32*I3*l1^3*l2^2*m3^2*thd1^2*sin(th1 - 2*th2) + 16*I2*l1^3*l3^2*m3^2*thd1^2*sin(th1 - 2*th3) + 8*I1*l2^3*l3^2*m3^2*thd2^2*sin(th2 - 2*th3) - 4*I3*l1^3*l2^2*m1*m2*thd1^2*sin(th1 - 2*th2) - 8*I3*l1^3*l2^2*m1*m3*thd1^2*sin(th1 - 2*th2) + 16*I3*l1^3*l2^2*m2*m3*thd1^2*sin(th1 - 2*th2) + 12*I1*l1*l2^2*l3^2*m3^2*thd1^2*sin(th1) - 24*I3*l1^2*l2^2*l3*m3^2*thd3^2*sin(th3) - 8*I1*l1*l2^2*l3^2*m3^2*thd1^2*sin(th1 - 2*th2 + 2*th3) - 4*I1*l1*l2^2*l3^2*m3^2*thd1^2*sin(th1 + 2*th2 - 2*th3) - 4*I2*l1^2*l2*l3^2*m3^2*thd2^2*sin(th2 - 2*th1 + 2*th3) + 4*I2*l1^2*l2*l3^2*m3^2*thd2^2*sin(2*th1 + th2 - 2*th3) + 8*I3*l1^2*l2^2*l3*m3^2*thd3^2*sin(2*th2 - 2*th1 + th3) + 16*I3*l1^2*l2^2*l3*m3^2*thd3^2*sin(2*th1 - 2*th2 + th3) + 2*l1^2*l2^3*l3^2*m2*m3^2*thd2^2*sin(2*th1 - th2) + l1^2*l2^2*l3^3*m1*m3^2*thd3^2*sin(2*th2 - th3) - l1^2*l2^2*l3^3*m2*m3^2*thd3^2*sin(2*th1 - th3) + l1^2*l2^2*l3^3*m2*m3^2*thd3^2*sin(2*th2 - th3) + 16*I1*I3*l1*l2^2*m2*thd1^2*sin(th1) + 32*I1*I2*l1*l3^2*m3*thd1^2*sin(th1) + 96*I1*I3*l1*l2^2*m3*thd1^2*sin(th1) + 16*I2*I3*l1^2*l2*m1*thd2^2*sin(th2) + 32*I2*I3*l1^2*l2*m2*thd2^2*sin(th2) + 16*I1*I2*l2*l3^2*m3*thd2^2*sin(th2) - 16*I1*I3*l2^2*l3*m3*thd3^2*sin(th3) - 32*I2*I3*l1^2*l3*m3*thd3^2*sin(th3) - 4*I1*l1*l2^2*l3^2*m3^2*thd1^2*sin(th1 - 2*th2) + 4*I1*l1*l2^2*l3^2*m3^2*thd1^2*sin(th1 - 2*th3) + 8*I2*l1^2*l2*l3^2*m3^2*thd2^2*sin(th2 - 2*th3) + 16*I3*l1^2*l2^3*m2*m3*thd2^2*sin(2*th1 - th2) - 16*I1*I3*l1*l2^2*m2*thd1^2*sin(th1 - 2*th2) - 32*I1*I3*l1*l2^2*m3*thd1^2*sin(th1 - 2*th2) + 3*g*l1^2*l2^2*l3^2*m1*m3^2*sin(2*th1) + 3*g*l1^2*l2^2*l3^2*m2*m3^2*sin(2*th1) - g*l1^2*l2^2*l3^2*m2*m3^2*sin(2*th2) + g*l1^2*l2^2*l3^2*m2*m3^2*sin(2*th3) - 2*g*l1^2*l2^2*l3^2*m1*m3^2*sin(2*th1 - 2*th2 + 2*th3) - g*l1^2*l2^2*l3^2*m1*m3^2*sin(2*th1 + 2*th2 - 2*th3) - 2*g*l1^2*l2^2*l3^2*m2*m3^2*sin(2*th1 - 2*th2 + 2*th3) - g*l1^2*l2^2*l3^2*m2*m3^2*sin(2*th1 + 2*th2 - 2*th3) + 3*l1^3*l2^2*l3^2*m1*m3^2*thd1^2*sin(th1) + 6*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1) + 2*l1^2*l2^3*l3^2*m1*m3^2*thd2^2*sin(th2) - l1^2*l2^2*l3^3*m1*m3^2*thd3^2*sin(th3) - 3*l1^2*l2^2*l3^3*m2*m3^2*thd3^2*sin(th3) - 2*l1^3*l2^2*l3^2*m1*m3^2*thd1^2*sin(th1 - 2*th2 + 2*th3) - l1^3*l2^2*l3^2*m1*m3^2*thd1^2*sin(th1 + 2*th2 - 2*th3) - 4*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1 - 2*th2 + 2*th3) - 2*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1 + 2*th2 - 2*th3) + l1^2*l2^3*l3^2*m2*m3^2*thd2^2*sin(th2 - 2*th1 + 2*th3) - l1^2*l2^3*l3^2*m2*m3^2*thd2^2*sin(2*th1 + th2 - 2*th3) + l1^2*l2^2*l3^3*m2*m3^2*thd3^2*sin(2*th2 - 2*th1 + th3) + 2*l1^2*l2^2*l3^3*m2*m3^2*thd3^2*sin(2*th1 - 2*th2 + th3) + 8*I2*l1^2*l2*l3^2*m3^2*thd2^2*sin(2*th1 - th2) + 8*I3*l1^2*l2^2*l3*m3^2*thd3^2*sin(2*th1 - th3) - 8*I3*l1^2*l2^2*l3*m3^2*thd3^2*sin(2*th2 - th3) + 4*I3*g*l1^2*l2^2*m1*m2*sin(2*th1) + 8*I2*g*l1^2*l3^2*m1*m3*sin(2*th1) + 24*I3*g*l1^2*l2^2*m1*m3*sin(2*th1) + 16*I2*g*l1^2*l3^2*m2*m3*sin(2*th1) + 24*I3*g*l1^2*l2^2*m2*m3*sin(2*th1) + 4*I1*g*l2^2*l3^2*m2*m3*sin(2*th2) - 8*I3*g*l1^2*l2^2*m2*m3*sin(2*th2) + 4*I3*l1^3*l2^2*m1*m2*thd1^2*sin(th1) + 8*I2*l1^3*l3^2*m1*m3*thd1^2*sin(th1) + 24*I3*l1^3*l2^2*m1*m3*thd1^2*sin(th1) + 32*I2*l1^3*l3^2*m2*m3*thd1^2*sin(th1) + 4*I3*l1^2*l2^3*m1*m2*thd2^2*sin(th2) + 48*I3*l1^3*l2^2*m2*m3*thd1^2*sin(th1) + 16*I3*l1^2*l2^3*m1*m3*thd2^2*sin(th2) + 4*I1*l2^3*l3^2*m2*m3*thd2^2*sin(th2) - g*l1^2*l2^2*l3^2*m1*m3^2*sin(2*th1 - 2*th2) + g*l1^2*l2^2*l3^2*m1*m3^2*sin(2*th1 - 2*th3) + g*l1^2*l2^2*l3^2*m2*m3^2*sin(2*th1 - 2*th2) - g*l1^2*l2^2*l3^2*m2*m3^2*sin(2*th1 - 2*th3) + g*l1^2*l2^2*l3^2*m2*m3^2*sin(2*th2 - 2*th3) + 32*I2*I3*l1^2*l2*m2*thd2^2*sin(2*th1 - th2) + 64*I2*I3*l1^2*l2*m3*thd2^2*sin(2*th1 - th2) + 32*I2*I3*l1^2*l3*m3*thd3^2*sin(2*th1 - th3) + 16*I1*I3*l2^2*l3*m3*thd3^2*sin(2*th2 - th3) - l1^3*l2^2*l3^2*m1*m3^2*thd1^2*sin(th1 - 2*th2) + l1^3*l2^2*l3^2*m1*m3^2*thd1^2*sin(th1 - 2*th3) + 2*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1 - 2*th2) - 2*l1^3*l2^2*l3^2*m2*m3^2*thd1^2*sin(th1 - 2*th3) + 2*l1^2*l2^3*l3^2*m1*m3^2*thd2^2*sin(th2 - 2*th3) + 2*l1^2*l2^3*l3^2*m2*m3^2*thd2^2*sin(th2 - 2*th3) - 4*I3*g*l1^2*l2^2*m1*m2*sin(2*th1 - 2*th2) - 8*I3*g*l1^2*l2^2*m1*m3*sin(2*th1 - 2*th2) + 8*I3*g*l1^2*l2^2*m2*m3*sin(2*th1 - 2*th2) + 4*I1*l1*l2^2*l3^2*m2*m3*thd1^2*sin(th1) + 4*I2*l1^2*l2*l3^2*m1*m3*thd2^2*sin(th2) + 8*I2*l1^2*l2*l3^2*m2*m3*thd2^2*sin(th2) - 4*I3*l1^2*l2^2*l3*m1*m3*thd3^2*sin(th3) - 12*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(th3) + 4*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th2 - 2*th1 + th3) + 8*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th1 - 2*th2 + th3) - 4*I1*l1*l2^2*l3^2*m2*m3*thd1^2*sin(th1 - 2*th2) + g*l1^2*l2^2*l3^2*m1*m2*m3*sin(2*th1) + l1^3*l2^2*l3^2*m1*m2*m3*thd1^2*sin(th1) + l1^2*l2^3*l3^2*m1*m2*m3*thd2^2*sin(th2) + 8*I2*l1^2*l2*l3^2*m2*m3*thd2^2*sin(2*th1 - th2) + 4*I3*l1^2*l2^2*l3*m1*m3*thd3^2*sin(2*th2 - th3) - 4*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th1 - th3) + 4*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th2 - th3) - g*l1^2*l2^2*l3^2*m1*m2*m3*sin(2*th1 - 2*th2) - l1^3*l2^2*l3^2*m1*m2*m3*thd1^2*sin(th1 - 2*th2))/(2*(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2)));
x3dd = -(128*I1*I2*I3*l1*thd1^2*cos(th1) - 16*I1*g*l2^2*l3^2*m3^2 - 16*I2*g*l1^2*l3^2*m3^2 - 64*I3*g*l1^2*l2^2*m3^2 - 32*I2*I3*g*l1^2*m1 - 32*I1*I3*g*l2^2*m2 - 64*I2*I3*g*l1^2*m2 - 16*I1*I2*g*l3^2*m3 - 64*I1*I3*g*l2^2*m3 - 64*I2*I3*g*l1^2*m3 - 8*I3*l1^2*l2^3*m2^2*thd2^2*cos(2*th1 - th2) - 24*I3*g*l1^2*l2^2*m2^2 + 128*I1*I2*I3*l2*thd2^2*cos(th2) + 64*I1*I2*I3*l3*thd3^2*cos(th3) - 4*g*l1^2*l2^2*l3^2*m1*m3^2 - 12*g*l1^2*l2^2*l3^2*m2*m3^2 - 5*g*l1^2*l2^2*l3^2*m2^2*m3 - 8*I3*g*l1^2*l2^2*m1*m2 - 8*I2*g*l1^2*l3^2*m1*m3 - 32*I3*g*l1^2*l2^2*m1*m3 - 8*I1*g*l2^2*l3^2*m2*m3 - 24*I2*g*l1^2*l3^2*m2*m3 - 96*I3*g*l1^2*l2^2*m2*m3 - 8*I3*g*l1^2*l2^2*m2^2*cos(2*th1) + 8*I3*g*l1^2*l2^2*m2^2*cos(2*th2) - 16*I3*l1^3*l2^2*m2^2*thd1^2*cos(th1) + 8*I3*l1^2*l2^3*m2^2*thd2^2*cos(th2) + 32*I2*I3*g*l1^2*m1*cos(2*th1) + 64*I2*I3*g*l1^2*m2*cos(2*th1) + 32*I1*I3*g*l2^2*m2*cos(2*th2) + 64*I2*I3*g*l1^2*m3*cos(2*th1) + 64*I1*I3*g*l2^2*m3*cos(2*th2) + 16*I1*I2*g*l3^2*m3*cos(2*th3) + 32*I2*I3*l1^3*m1*thd1^2*cos(th1) + 128*I2*I3*l1^3*m2*thd1^2*cos(th1) + 128*I2*I3*l1^3*m3*thd1^2*cos(th1) + 32*I1*I3*l2^3*m2*thd2^2*cos(th2) + 128*I1*I3*l2^3*m3*thd2^2*cos(th2) + 16*I1*I2*l3^3*m3*thd3^2*cos(th3) + 24*I3*g*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) + 64*I3*g*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) + 16*I2*g*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) + 16*I1*g*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 16*I3*l1^3*l2^2*m2^2*thd1^2*cos(th1 - 2*th2) + 8*I3*l1^2*l2^2*l3*m2^2*thd3^2*cos(th3) - 4*I3*l1^2*l2^2*l3*m2^2*thd3^2*cos(2*th2 - 2*th1 + th3) - 4*I3*l1^2*l2^2*l3*m2^2*thd3^2*cos(2*th1 - 2*th2 + th3) - l1^2*l2^3*l3^2*m2^2*m3*thd2^2*cos(2*th1 - th2) + 16*I1*I2*l1*l3^2*m3*thd1^2*cos(th1) + 64*I1*I3*l1*l2^2*m3*thd1^2*cos(th1) + 32*I2*I3*l1^2*l2*m1*thd2^2*cos(th2) + 96*I2*I3*l1^2*l2*m2*thd2^2*cos(th2) + 16*I1*I2*l2*l3^2*m3*thd2^2*cos(th2) + 64*I2*I3*l1^2*l2*m3*thd2^2*cos(th2) + 16*I2*I3*l1^2*l3*m1*thd3^2*cos(th3) + 16*I1*I3*l2^2*l3*m2*thd3^2*cos(th3) + 64*I2*I3*l1^2*l3*m2*thd3^2*cos(th3) + 32*I1*I3*l2^2*l3*m3*thd3^2*cos(th3) + 32*I2*I3*l1^2*l3*m3*thd3^2*cos(th3) - 16*I3*l1^2*l2^3*m2*m3*thd2^2*cos(2*th1 - th2) - 2*g*l1^2*l2^2*l3^2*m1*m2*m3 + 32*I1*I3*l1*l2^2*m2*thd1^2*cos(th1 - 2*th2) + 64*I1*I3*l1*l2^2*m3*thd1^2*cos(th1 - 2*th2) + 16*I1*I2*l1*l3^2*m3*thd1^2*cos(th1 - 2*th3) + 16*I1*I2*l2*l3^2*m3*thd2^2*cos(th2 - 2*th3) - g*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1) + g*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th2) - g*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th3) + g*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2 + 2*th3) - 2*l1^3*l2^2*l3^2*m2^2*m3*thd1^2*cos(th1) + l1^2*l2^3*l3^2*m2^2*m3*thd2^2*cos(th2) + 2*l1^2*l2^2*l3^3*m2^2*m3*thd3^2*cos(th3) + 2*l1^3*l2^2*l3^2*m2^2*m3*thd1^2*cos(th1 - 2*th2 + 2*th3) - l1^2*l2^3*l3^2*m2^2*m3*thd2^2*cos(th2 - 2*th1 + 2*th3) - l1^2*l2^2*l3^3*m2^2*m3*thd3^2*cos(2*th2 - 2*th1 + th3) - l1^2*l2^2*l3^3*m2^2*m3*thd3^2*cos(2*th1 - 2*th2 + th3) + 4*I2*g*l1^2*l3^2*m1*m3*cos(2*th1) + 16*I3*g*l1^2*l2^2*m1*m3*cos(2*th1) + 8*I2*g*l1^2*l3^2*m2*m3*cos(2*th1) + 4*I1*g*l2^2*l3^2*m2*m3*cos(2*th2) + 16*I3*g*l1^2*l2^2*m2*m3*cos(2*th2) + 8*I2*g*l1^2*l3^2*m2*m3*cos(2*th3) + 4*I2*l1^3*l3^2*m1*m3*thd1^2*cos(th1) + 16*I3*l1^3*l2^2*m1*m3*thd1^2*cos(th1) + 16*I2*l1^3*l3^2*m2*m3*thd1^2*cos(th1) + 8*I3*l1^2*l2^3*m1*m2*thd2^2*cos(th2) + 32*I3*l1^2*l2^3*m1*m3*thd2^2*cos(th2) + 4*I1*l2^3*l3^2*m2*m3*thd2^2*cos(th2) + 48*I3*l1^2*l2^3*m2*m3*thd2^2*cos(th2) + 4*I2*l1^2*l3^3*m1*m3*thd3^2*cos(th3) + 4*I1*l2^2*l3^3*m2*m3*thd3^2*cos(th3) + 16*I2*l1^2*l3^3*m2*m3*thd3^2*cos(th3) + 8*g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) + 5*g*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) + 4*g*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) - 4*g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - g*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th3) + 8*g*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) + g*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th2 - 2*th3) + 32*I2*I3*l1^2*l2*m2*thd2^2*cos(2*th1 - th2) + 64*I2*I3*l1^2*l2*m3*thd2^2*cos(2*th1 - th2) + 32*I2*I3*l1^2*l3*m3*thd3^2*cos(2*th1 - th3) + 32*I1*I3*l2^2*l3*m3*thd3^2*cos(2*th2 - th3) + 2*l1^3*l2^2*l3^2*m2^2*m3*thd1^2*cos(th1 - 2*th2) - 2*l1^3*l2^2*l3^2*m2^2*m3*thd1^2*cos(th1 - 2*th3) + l1^2*l2^3*l3^2*m2^2*m3*thd2^2*cos(th2 - 2*th3) + 8*I3*g*l1^2*l2^2*m1*m2*cos(2*th1 - 2*th2) + 16*I3*g*l1^2*l2^2*m1*m3*cos(2*th1 - 2*th2) + 4*I2*g*l1^2*l3^2*m1*m3*cos(2*th1 - 2*th3) + 80*I3*g*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2) + 8*I2*g*l1^2*l3^2*m2*m3*cos(2*th1 - 2*th3) + 4*I1*g*l2^2*l3^2*m2*m3*cos(2*th2 - 2*th3) + 8*I3*l1^3*l2^2*m1*m2*thd1^2*cos(th1 - 2*th2) + 16*I3*l1^3*l2^2*m1*m3*thd1^2*cos(th1 - 2*th2) + 4*I2*l1^3*l3^2*m1*m3*thd1^2*cos(th1 - 2*th3) + 32*I3*l1^3*l2^2*m2*m3*thd1^2*cos(th1 - 2*th2) + 16*I2*l1^3*l3^2*m2*m3*thd1^2*cos(th1 - 2*th3) + 4*I1*l2^3*l3^2*m2*m3*thd2^2*cos(th2 - 2*th3) + 4*I2*l1^2*l2*l3^2*m1*m3*thd2^2*cos(th2) + 12*I2*l1^2*l2*l3^2*m2*m3*thd2^2*cos(th2) + 4*I3*l1^2*l2^2*l3*m1*m2*thd3^2*cos(th3) + 8*I3*l1^2*l2^2*l3*m1*m3*thd3^2*cos(th3) + 24*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(th3) + 4*I1*l1*l2^2*l3^2*m2*m3*thd1^2*cos(th1 - 2*th2 + 2*th3) + 4*I2*l1^2*l2*l3^2*m2*m3*thd2^2*cos(th2 - 2*th1 + 2*th3) - 8*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(2*th2 - 2*th1 + th3) - 8*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(2*th1 - 2*th2 + th3) + 4*I1*l1*l2^2*l3^2*m2*m3*thd1^2*cos(th1 - 2*th2) + 4*I2*l1^2*l2*l3^2*m1*m3*thd2^2*cos(th2 - 2*th3) + 12*I2*l1^2*l2*l3^2*m2*m3*thd2^2*cos(th2 - 2*th3) + g*l1^2*l2^2*l3^2*m1*m2*m3*cos(2*th1 - 2*th2 + 2*th3) + l1^2*l2^3*l3^2*m1*m2*m3*thd2^2*cos(th2) + l1^2*l2^2*l3^3*m1*m2*m3*thd3^2*cos(th3) + l1^3*l2^2*l3^2*m1*m2*m3*thd1^2*cos(th1 - 2*th2 + 2*th3) + 4*I2*l1^2*l2*l3^2*m2*m3*thd2^2*cos(2*th1 - th2) + 8*I3*l1^2*l2^2*l3*m1*m3*thd3^2*cos(2*th2 - th3) - 8*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(2*th1 - th3) + 16*I3*l1^2*l2^2*l3*m2*m3*thd3^2*cos(2*th2 - th3) + g*l1^2*l2^2*l3^2*m1*m2*m3*cos(2*th1 - 2*th2) + l1^3*l2^2*l3^2*m1*m2*m3*thd1^2*cos(th1 - 2*th2) + l1^2*l2^3*l3^2*m1*m2*m3*thd2^2*cos(th2 - 2*th3))/(2*(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2)));
y3dd = -(128*I1*I2*I3*l1*thd1^2*sin(th1) - 8*I3*l1^2*l2^3*m2^2*thd2^2*sin(2*th1 - th2) + 128*I1*I2*I3*l2*thd2^2*sin(th2) + 64*I1*I2*I3*l3*thd3^2*sin(th3) - 8*I3*g*l1^2*l2^2*m2^2*sin(2*th1) + 8*I3*g*l1^2*l2^2*m2^2*sin(2*th2) - 16*I3*l1^3*l2^2*m2^2*thd1^2*sin(th1) + 8*I3*l1^2*l2^3*m2^2*thd2^2*sin(th2) + 32*I2*I3*g*l1^2*m1*sin(2*th1) + 64*I2*I3*g*l1^2*m2*sin(2*th1) + 32*I1*I3*g*l2^2*m2*sin(2*th2) + 64*I2*I3*g*l1^2*m3*sin(2*th1) + 64*I1*I3*g*l2^2*m3*sin(2*th2) + 16*I1*I2*g*l3^2*m3*sin(2*th3) + 32*I2*I3*l1^3*m1*thd1^2*sin(th1) + 128*I2*I3*l1^3*m2*thd1^2*sin(th1) + 128*I2*I3*l1^3*m3*thd1^2*sin(th1) + 32*I1*I3*l2^3*m2*thd2^2*sin(th2) + 128*I1*I3*l2^3*m3*thd2^2*sin(th2) + 16*I1*I2*l3^3*m3*thd3^2*sin(th3) - 8*I3*g*l1^2*l2^2*m2^2*sin(2*th1 - 2*th2) - 16*I3*l1^3*l2^2*m2^2*thd1^2*sin(th1 - 2*th2) - 8*I3*l1^3*l2^2*m1*m2*thd1^2*sin(th1 - 2*th2) - 16*I3*l1^3*l2^2*m1*m3*thd1^2*sin(th1 - 2*th2) - 4*I2*l1^3*l3^2*m1*m3*thd1^2*sin(th1 - 2*th3) - 32*I3*l1^3*l2^2*m2*m3*thd1^2*sin(th1 - 2*th2) - 16*I2*l1^3*l3^2*m2*m3*thd1^2*sin(th1 - 2*th3) - 4*I1*l2^3*l3^2*m2*m3*thd2^2*sin(th2 - 2*th3) + 8*I3*l1^2*l2^2*l3*m2^2*thd3^2*sin(th3) - 4*I3*l1^2*l2^2*l3*m2^2*thd3^2*sin(2*th2 - 2*th1 + th3) - 4*I3*l1^2*l2^2*l3*m2^2*thd3^2*sin(2*th1 - 2*th2 + th3) - l1^2*l2^3*l3^2*m2^2*m3*thd2^2*sin(2*th1 - th2) + 16*I1*I2*l1*l3^2*m3*thd1^2*sin(th1) + 64*I1*I3*l1*l2^2*m3*thd1^2*sin(th1) + 32*I2*I3*l1^2*l2*m1*thd2^2*sin(th2) + 96*I2*I3*l1^2*l2*m2*thd2^2*sin(th2) + 16*I1*I2*l2*l3^2*m3*thd2^2*sin(th2) + 64*I2*I3*l1^2*l2*m3*thd2^2*sin(th2) + 16*I2*I3*l1^2*l3*m1*thd3^2*sin(th3) + 16*I1*I3*l2^2*l3*m2*thd3^2*sin(th3) + 64*I2*I3*l1^2*l3*m2*thd3^2*sin(th3) + 32*I1*I3*l2^2*l3*m3*thd3^2*sin(th3) + 32*I2*I3*l1^2*l3*m3*thd3^2*sin(th3) - 16*I3*l1^2*l2^3*m2*m3*thd2^2*sin(2*th1 - th2) - 32*I1*I3*l1*l2^2*m2*thd1^2*sin(th1 - 2*th2) - 64*I1*I3*l1*l2^2*m3*thd1^2*sin(th1 - 2*th2) - 16*I1*I2*l1*l3^2*m3*thd1^2*sin(th1 - 2*th3) - 16*I1*I2*l2*l3^2*m3*thd2^2*sin(th2 - 2*th3) - g*l1^2*l2^2*l3^2*m2^2*m3*sin(2*th1) + g*l1^2*l2^2*l3^2*m2^2*m3*sin(2*th2) - g*l1^2*l2^2*l3^2*m2^2*m3*sin(2*th3) + g*l1^2*l2^2*l3^2*m2^2*m3*sin(2*th1 - 2*th2 + 2*th3) - 2*l1^3*l2^2*l3^2*m2^2*m3*thd1^2*sin(th1) + l1^2*l2^3*l3^2*m2^2*m3*thd2^2*sin(th2) + 2*l1^2*l2^2*l3^3*m2^2*m3*thd3^2*sin(th3) + 2*l1^3*l2^2*l3^2*m2^2*m3*thd1^2*sin(th1 - 2*th2 + 2*th3) - l1^2*l2^3*l3^2*m2^2*m3*thd2^2*sin(th2 - 2*th1 + 2*th3) - l1^2*l2^2*l3^3*m2^2*m3*thd3^2*sin(2*th2 - 2*th1 + th3) - l1^2*l2^2*l3^3*m2^2*m3*thd3^2*sin(2*th1 - 2*th2 + th3) + 4*I2*g*l1^2*l3^2*m1*m3*sin(2*th1) + 16*I3*g*l1^2*l2^2*m1*m3*sin(2*th1) + 8*I2*g*l1^2*l3^2*m2*m3*sin(2*th1) + 4*I1*g*l2^2*l3^2*m2*m3*sin(2*th2) + 16*I3*g*l1^2*l2^2*m2*m3*sin(2*th2) + 8*I2*g*l1^2*l3^2*m2*m3*sin(2*th3) + 4*I2*l1^3*l3^2*m1*m3*thd1^2*sin(th1) + 16*I3*l1^3*l2^2*m1*m3*thd1^2*sin(th1) + 16*I2*l1^3*l3^2*m2*m3*thd1^2*sin(th1) + 8*I3*l1^2*l2^3*m1*m2*thd2^2*sin(th2) + 32*I3*l1^2*l2^3*m1*m3*thd2^2*sin(th2) + 4*I1*l2^3*l3^2*m2*m3*thd2^2*sin(th2) + 48*I3*l1^2*l2^3*m2*m3*thd2^2*sin(th2) + 4*I2*l1^2*l3^3*m1*m3*thd3^2*sin(th3) + 4*I1*l2^2*l3^3*m2*m3*thd3^2*sin(th3) + 16*I2*l1^2*l3^3*m2*m3*thd3^2*sin(th3) - g*l1^2*l2^2*l3^2*m2^2*m3*sin(2*th1 - 2*th2) + g*l1^2*l2^2*l3^2*m2^2*m3*sin(2*th1 - 2*th3) - g*l1^2*l2^2*l3^2*m2^2*m3*sin(2*th2 - 2*th3) + 32*I2*I3*l1^2*l2*m2*thd2^2*sin(2*th1 - th2) + 64*I2*I3*l1^2*l2*m3*thd2^2*sin(2*th1 - th2) + 32*I2*I3*l1^2*l3*m3*thd3^2*sin(2*th1 - th3) + 32*I1*I3*l2^2*l3*m3*thd3^2*sin(2*th2 - th3) - 2*l1^3*l2^2*l3^2*m2^2*m3*thd1^2*sin(th1 - 2*th2) + 2*l1^3*l2^2*l3^2*m2^2*m3*thd1^2*sin(th1 - 2*th3) - l1^2*l2^3*l3^2*m2^2*m3*thd2^2*sin(th2 - 2*th3) - 8*I3*g*l1^2*l2^2*m1*m2*sin(2*th1 - 2*th2) - 16*I3*g*l1^2*l2^2*m1*m3*sin(2*th1 - 2*th2) - 4*I2*g*l1^2*l3^2*m1*m3*sin(2*th1 - 2*th3) - 16*I3*g*l1^2*l2^2*m2*m3*sin(2*th1 - 2*th2) - 8*I2*g*l1^2*l3^2*m2*m3*sin(2*th1 - 2*th3) - 4*I1*g*l2^2*l3^2*m2*m3*sin(2*th2 - 2*th3) + 4*I2*l1^2*l2*l3^2*m1*m3*thd2^2*sin(th2) + 12*I2*l1^2*l2*l3^2*m2*m3*thd2^2*sin(th2) + 4*I3*l1^2*l2^2*l3*m1*m2*thd3^2*sin(th3) + 8*I3*l1^2*l2^2*l3*m1*m3*thd3^2*sin(th3) + 24*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(th3) + 4*I1*l1*l2^2*l3^2*m2*m3*thd1^2*sin(th1 - 2*th2 + 2*th3) + 4*I2*l1^2*l2*l3^2*m2*m3*thd2^2*sin(th2 - 2*th1 + 2*th3) - 8*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th2 - 2*th1 + th3) - 8*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th1 - 2*th2 + th3) - 4*I1*l1*l2^2*l3^2*m2*m3*thd1^2*sin(th1 - 2*th2) - 4*I2*l1^2*l2*l3^2*m1*m3*thd2^2*sin(th2 - 2*th3) - 12*I2*l1^2*l2*l3^2*m2*m3*thd2^2*sin(th2 - 2*th3) + g*l1^2*l2^2*l3^2*m1*m2*m3*sin(2*th1 - 2*th2 + 2*th3) + l1^2*l2^3*l3^2*m1*m2*m3*thd2^2*sin(th2) + l1^2*l2^2*l3^3*m1*m2*m3*thd3^2*sin(th3) + l1^3*l2^2*l3^2*m1*m2*m3*thd1^2*sin(th1 - 2*th2 + 2*th3) + 4*I2*l1^2*l2*l3^2*m2*m3*thd2^2*sin(2*th1 - th2) + 8*I3*l1^2*l2^2*l3*m1*m3*thd3^2*sin(2*th2 - th3) - 8*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th1 - th3) + 16*I3*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th2 - th3) - g*l1^2*l2^2*l3^2*m1*m2*m3*sin(2*th1 - 2*th2) - l1^3*l2^2*l3^2*m1*m2*m3*thd1^2*sin(th1 - 2*th2) - l1^2*l2^3*l3^2*m1*m2*m3*thd2^2*sin(th2 - 2*th3))/(2*(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2)));
thdd1 = -(2*(16*I2*I3*g*l1*m1*sin(th1) + 32*I2*I3*g*l1*m2*sin(th1) + 32*I2*I3*g*l1*m3*sin(th1) + 4*I3*g*l1*l2^2*m2^2*sin(th1 - 2*th2) + 16*I3*g*l1*l2^2*m3^2*sin(th1 - 2*th2) + 4*I2*g*l1*l3^2*m3^2*sin(th1 - 2*th3) + 4*I3*l1^2*l2^2*m2^2*thd1^2*sin(2*th1 - 2*th2) + 16*I3*l1^2*l2^2*m3^2*thd1^2*sin(2*th1 - 2*th2) + 4*I2*l1^2*l3^2*m3^2*thd1^2*sin(2*th1 - 2*th3) + 4*I3*l1*l2^3*m2^2*thd2^2*sin(th1 - th2) + 32*I3*l1*l2^3*m3^2*thd2^2*sin(th1 - th2) + 4*I2*l1*l3^3*m3^2*thd3^2*sin(th1 - th3) + 4*I3*g*l1*l2^2*m2^2*sin(th1) + 4*I2*g*l1*l3^2*m3^2*sin(th1) + 16*I3*g*l1*l2^2*m3^2*sin(th1) + 4*I2*l1*l2*l3^2*m3^2*thd2^2*sin(th1 - th2) + 8*I3*l1*l2^2*l3*m3^2*thd3^2*sin(th1 - th3) + 4*I3*g*l1*l2^2*m1*m2*sin(th1) + 4*I2*g*l1*l3^2*m1*m3*sin(th1) + 16*I3*g*l1*l2^2*m1*m3*sin(th1) + 8*I2*g*l1*l3^2*m2*m3*sin(th1) + 24*I3*g*l1*l2^2*m2*m3*sin(th1) + 2*g*l1*l2^2*l3^2*m2*m3^2*sin(th1 - 2*th2) + g*l1*l2^2*l3^2*m2^2*m3*sin(th1 - 2*th2) - g*l1*l2^2*l3^2*m2*m3^2*sin(th1 - 2*th3) + 16*I2*I3*l1*l2*m2*thd2^2*sin(th1 - th2) + 32*I2*I3*l1*l2*m3*thd2^2*sin(th1 - th2) + 16*I2*I3*l1*l3*m3*thd3^2*sin(th1 - th3) + 16*I3*g*l1*l2^2*m2*m3*sin(th1 - 2*th2) + 2*l1^2*l2^2*l3^2*m2*m3^2*thd1^2*sin(2*th1 - 2*th2) + l1^2*l2^2*l3^2*m2^2*m3*thd1^2*sin(2*th1 - 2*th2) - l1^2*l2^2*l3^2*m2*m3^2*thd1^2*sin(2*th1 - 2*th3) + 16*I3*l1^2*l2^2*m2*m3*thd1^2*sin(2*th1 - 2*th2) + 4*I2*l1*l2*l3^2*m3^2*thd2^2*sin(th1 + th2 - 2*th3) + 8*I3*l1*l2^2*l3*m3^2*thd3^2*sin(th1 - 2*th2 + th3) + 3*l1*l2^3*l3^2*m2*m3^2*thd2^2*sin(th1 - th2) + l1*l2^3*l3^2*m2^2*m3*thd2^2*sin(th1 - th2) + 24*I3*l1*l2^3*m2*m3*thd2^2*sin(th1 - th2) + 2*g*l1*l2^2*l3^2*m1*m3^2*sin(th1) + 3*g*l1*l2^2*l3^2*m2*m3^2*sin(th1) + g*l1*l2^2*l3^2*m2^2*m3*sin(th1) - g*l1*l2^2*l3^2*m1*m3^2*sin(th1 - 2*th2 + 2*th3) - g*l1*l2^2*l3^2*m1*m3^2*sin(th1 + 2*th2 - 2*th3) - g*l1*l2^2*l3^2*m2*m3^2*sin(th1 - 2*th2 + 2*th3) - g*l1*l2^2*l3^2*m2*m3^2*sin(th1 + 2*th2 - 2*th3) - l1*l2^3*l3^2*m2*m3^2*thd2^2*sin(th1 + th2 - 2*th3) + l1*l2^2*l3^3*m2*m3^2*thd3^2*sin(th1 - 2*th2 + th3) + 4*I2*l1*l2*l3^2*m2*m3*thd2^2*sin(th1 - th2) + 4*I3*l1*l2^2*l3*m2*m3*thd3^2*sin(th1 - 2*th2 + th3) + g*l1*l2^2*l3^2*m1*m2*m3*sin(th1)))/(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2));
thdd2 = -(2*(16*I1*I3*g*l2*m2*sin(th2) + 32*I1*I3*g*l2*m3*sin(th2) + 4*I1*g*l2*l3^2*m3^2*sin(th2 - 2*th3) - 4*I3*l1^2*l2^2*m2^2*thd2^2*sin(2*th1 - 2*th2) - 16*I3*l1^2*l2^2*m3^2*thd2^2*sin(2*th1 - 2*th2) + 4*I1*l2^2*l3^2*m3^2*thd2^2*sin(2*th2 - 2*th3) - 8*I3*g*l1^2*l2*m2^2*sin(2*th1 - th2) - 16*I3*g*l1^2*l2*m3^2*sin(2*th1 - th2) - 16*I3*l1^3*l2*m2^2*thd1^2*sin(th1 - th2) - 32*I3*l1^3*l2*m3^2*thd1^2*sin(th1 - th2) + 4*I1*l2*l3^3*m3^2*thd3^2*sin(th2 - th3) + 8*I3*g*l1^2*l2*m2^2*sin(th2) + 4*I1*g*l2*l3^2*m3^2*sin(th2) + 16*I3*g*l1^2*l2*m3^2*sin(th2) - 4*I1*l1*l2*l3^2*m3^2*thd1^2*sin(th1 - th2) + 8*I3*l1^2*l2*l3*m3^2*thd3^2*sin(th2 - th3) + 4*I1*g*l2*l3^2*m2*m3*sin(th2) + 24*I3*g*l1^2*l2*m2*m3*sin(th2) + g*l1^2*l2*l3^2*m2*m3^2*sin(th2 - 2*th3) - 16*I1*I3*l1*l2*m2*thd1^2*sin(th1 - th2) - 32*I1*I3*l1*l2*m3*thd1^2*sin(th1 - th2) + 16*I1*I3*l2*l3*m3*thd3^2*sin(th2 - th3) - 2*l1^2*l2^2*l3^2*m2*m3^2*thd2^2*sin(2*th1 - 2*th2) - l1^2*l2^2*l3^2*m2^2*m3*thd2^2*sin(2*th1 - 2*th2) + l1^2*l2^2*l3^2*m1*m3^2*thd2^2*sin(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*thd2^2*sin(2*th2 - 2*th3) - 16*I3*l1^2*l2^2*m2*m3*thd2^2*sin(2*th1 - 2*th2) + 4*I1*l1*l2*l3^2*m3^2*thd1^2*sin(th1 + th2 - 2*th3) + 8*I3*l1^2*l2*l3*m3^2*thd3^2*sin(th2 - 2*th1 + th3) - g*l1^2*l2*l3^2*m1*m3^2*sin(2*th1 - th2) - 3*g*l1^2*l2*l3^2*m2*m3^2*sin(2*th1 - th2) - 2*g*l1^2*l2*l3^2*m2^2*m3*sin(2*th1 - th2) - l1^3*l2*l3^2*m1*m3^2*thd1^2*sin(th1 - th2) - 6*l1^3*l2*l3^2*m2*m3^2*thd1^2*sin(th1 - th2) - 4*l1^3*l2*l3^2*m2^2*m3*thd1^2*sin(th1 - th2) + l1^2*l2*l3^3*m1*m3^2*thd3^2*sin(th2 - th3) + 3*l1^2*l2*l3^3*m2*m3^2*thd3^2*sin(th2 - th3) - 4*I3*g*l1^2*l2*m1*m2*sin(2*th1 - th2) - 8*I3*g*l1^2*l2*m1*m3*sin(2*th1 - th2) - 24*I3*g*l1^2*l2*m2*m3*sin(2*th1 - th2) - 4*I3*l1^3*l2*m1*m2*thd1^2*sin(th1 - th2) - 8*I3*l1^3*l2*m1*m3*thd1^2*sin(th1 - th2) - 48*I3*l1^3*l2*m2*m3*thd1^2*sin(th1 - th2) + 3*g*l1^2*l2*l3^2*m2*m3^2*sin(th2) + 2*g*l1^2*l2*l3^2*m2^2*m3*sin(th2) + g*l1^2*l2*l3^2*m1*m3^2*sin(2*th1 + th2 - 2*th3) + g*l1^2*l2*l3^2*m2*m3^2*sin(2*th1 + th2 - 2*th3) + l1^3*l2*l3^2*m1*m3^2*thd1^2*sin(th1 + th2 - 2*th3) + 2*l1^3*l2*l3^2*m2*m3^2*thd1^2*sin(th1 + th2 - 2*th3) + l1^2*l2*l3^3*m2*m3^2*thd3^2*sin(th2 - 2*th1 + th3) - 4*I1*l1*l2*l3^2*m2*m3*thd1^2*sin(th1 - th2) + 4*I3*l1^2*l2*l3*m1*m3*thd3^2*sin(th2 - th3) + 12*I3*l1^2*l2*l3*m2*m3*thd3^2*sin(th2 - th3) + 4*I3*l1^2*l2*l3*m2*m3*thd3^2*sin(th2 - 2*th1 + th3) - g*l1^2*l2*l3^2*m1*m2*m3*sin(2*th1 - th2) - l1^3*l2*l3^2*m1*m2*m3*thd1^2*sin(th1 - th2)))/(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2));
thdd3 = (2*l3*m3*(g*l1^2*l2^2*m2^2*sin(th3) - 16*I1*I2*g*sin(th3) - g*l1^2*l2^2*m2^2*sin(2*th1 - 2*th2 + th3) - 2*l1^3*l2^2*m2^2*thd1^2*sin(th1 - 2*th2 + th3) + l1^2*l2^3*m2^2*thd2^2*sin(th2 - 2*th1 + th3) - 8*I2*g*l1^2*m2*sin(th3) - 8*I1*g*l2^2*m3*sin(th3) - 8*I2*g*l1^2*m3*sin(th3) + 16*I1*I2*l1*thd1^2*sin(th1 - th3) + 16*I1*I2*l2*thd2^2*sin(th2 - th3) - g*l1^2*l2^2*m2^2*sin(2*th1 - th3) + g*l1^2*l2^2*m2^2*sin(2*th2 - th3) - 2*l1^3*l2^2*m2^2*thd1^2*sin(th1 - th3) + l1^2*l2^3*m2^2*thd2^2*sin(th2 - th3) + 4*I2*g*l1^2*m1*sin(2*th1 - th3) + 8*I2*g*l1^2*m2*sin(2*th1 - th3) + 4*I1*g*l2^2*m2*sin(2*th2 - th3) + 8*I2*g*l1^2*m3*sin(2*th1 - th3) + 8*I1*g*l2^2*m3*sin(2*th2 - th3) + 4*I2*l1^3*m1*thd1^2*sin(th1 - th3) + 16*I2*l1^3*m2*thd1^2*sin(th1 - th3) + 16*I2*l1^3*m3*thd1^2*sin(th1 - th3) + 4*I1*l2^3*m2*thd2^2*sin(th2 - th3) + 16*I1*l2^3*m3*thd2^2*sin(th2 - th3) - g*l1^2*l2^2*m1*m2*sin(2*th1 - 2*th2 + th3) - 2*g*l1^2*l2^2*m1*m3*sin(2*th1 - 2*th2 + th3) - 2*g*l1^2*l2^2*m2*m3*sin(2*th1 - 2*th2 + th3) - l1^3*l2^2*m1*m2*thd1^2*sin(th1 - 2*th2 + th3) - 2*l1^3*l2^2*m1*m3*thd1^2*sin(th1 - 2*th2 + th3) - 4*l1^3*l2^2*m2*m3*thd1^2*sin(th1 - 2*th2 + th3) + 2*l1^2*l2^3*m2*m3*thd2^2*sin(th2 - 2*th1 + th3) + 8*I1*l1*l2^2*m3*thd1^2*sin(th1 - th3) + 4*I2*l1^2*l2*m1*thd2^2*sin(th2 - th3) + 12*I2*l1^2*l2*m2*thd2^2*sin(th2 - th3) + 8*I2*l1^2*l2*m3*thd2^2*sin(th2 - th3) + 4*I2*l1^2*l3*m3*thd3^2*sin(2*th1 - 2*th3) + 4*I1*l2^2*l3*m3*thd3^2*sin(2*th2 - 2*th3) - 4*I1*l1*l2^2*m2*thd1^2*sin(th1 - 2*th2 + th3) - 8*I1*l1*l2^2*m3*thd1^2*sin(th1 - 2*th2 + th3) - 4*I2*l1^2*l2*m2*thd2^2*sin(th2 - 2*th1 + th3) - 8*I2*l1^2*l2*m3*thd2^2*sin(th2 - 2*th1 + th3) + 2*g*l1^2*l2^2*m1*m3*sin(2*th1 - th3) + 2*g*l1^2*l2^2*m2*m3*sin(2*th2 - th3) + 2*l1^3*l2^2*m1*m3*thd1^2*sin(th1 - th3) + l1^2*l2^3*m1*m2*thd2^2*sin(th2 - th3) + 4*l1^2*l2^3*m1*m3*thd2^2*sin(th2 - th3) + 6*l1^2*l2^3*m2*m3*thd2^2*sin(th2 - th3) + l1^2*l2^2*l3*m1*m3*thd3^2*sin(2*th2 - 2*th3) - l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th1 - 2*th3) + 2*l1^2*l2^2*l3*m2*m3*thd3^2*sin(2*th2 - 2*th3)))/(64*I1*I2*I3 + 8*I3*l1^2*l2^2*m2^2 + 8*I1*l2^2*l3^2*m3^2 + 8*I2*l1^2*l3^2*m3^2 + 32*I3*l1^2*l2^2*m3^2 + 16*I2*I3*l1^2*m1 + 16*I1*I3*l2^2*m2 + 64*I2*I3*l1^2*m2 + 16*I1*I2*l3^2*m3 + 64*I1*I3*l2^2*m3 + 64*I2*I3*l1^2*m3 + 4*I3*l1^2*l2^2*m1*m2 + 4*I2*l1^2*l3^2*m1*m3 + 16*I3*l1^2*l2^2*m1*m3 + 4*I1*l2^2*l3^2*m2*m3 + 16*I2*l1^2*l3^2*m2*m3 + 48*I3*l1^2*l2^2*m2*m3 - 8*I3*l1^2*l2^2*m2^2*cos(2*th1 - 2*th2) - 32*I3*l1^2*l2^2*m3^2*cos(2*th1 - 2*th2) - 8*I2*l1^2*l3^2*m3^2*cos(2*th1 - 2*th3) - 8*I1*l2^2*l3^2*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m1*m3^2 + 6*l1^2*l2^2*l3^2*m2*m3^2 + 2*l1^2*l2^2*l3^2*m2^2*m3 + l1^2*l2^2*l3^2*m1*m2*m3 - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m2^2*m3*cos(2*th1 - 2*th2) - 2*l1^2*l2^2*l3^2*m1*m3^2*cos(2*th2 - 2*th3) + 2*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th1 - 2*th3) - 4*l1^2*l2^2*l3^2*m2*m3^2*cos(2*th2 - 2*th3) - 32*I3*l1^2*l2^2*m2*m3*cos(2*th1 - 2*th2));

zdot = [x1d; y1d; x1dd; y1dd; x2d; y2d; x2dd; y2dd; x3d; y3d; x3dd; y3dd; thd1; thd2; thd3; thdd1; thdd2; thdd3];
end
